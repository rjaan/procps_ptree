language: c

compiler: gcc

cache: ccache

os: linux

dist: boinic

#The COVERITY_SCAN_BRANCH environment variable will be set to 1 when the Coverity Scan addon is in operation.
script: if [ ${COVERITY_SCAN_BRANCH} != 1 ]; then ./configure && make ; fi

env:
  global:
   # The next declaration is the encrypted COVERITY_SCAN_TOKEN, created
   #   via the "travis encrypt" command using the project repo's public key
   - secure: "N3GxEJIDBcZg83OTaZtSKZXR84K1nEUQnFl9nFzMX6/yX22Jtcgu9qPHQrrxpuZoHRYhIQyXThk0rKiwYGvLR3fEJuMkKSu9dsznn2aMuPLfe29zdKeXohFZgt39sqWjbJfTmMedwVkHHT5zkTeMnYpkZ57s+rvSQqoETffKypyVR/MtAiZfTEqvob7XH+9IQvn2NjqFIIzdETnHEohzPdgSwrM9VyH2CK+6YRouCEFsPaU/77SoP0KRS05jhBAp6Wj3fAiv4qbWzW6vTxefzF7w0zJJe91gw8D5DuCi7AP4LaoRLPRnuxE0vDRxmXfH+kxGV59YAA2qNzFeqZGcEl2FmoiE8xt4ZKgsiIujnpOqqM1/jdOW18Zz4p7gqSoFOZOMUAWPGjdfbC9b2jJ7A258KFJAjP8W7GI2QiNL2FE/0S5cRxCJGenQd8hHWB5Chq9gG4f/Kbwy7umHUZ2a3iFY/WZ8b9mJANFrvuaOTXiiAGtzI3vzABbaWPUKsx0Os1OpnT03ccNXAIZLmUWsBCyT8SGM6+A7Zrz1uTPfFInI+e/juMdg4ldCJ9Ua+EZGZUubt88dYyH6oU2Nf0144Ne5bmgIExogH957AFY0+n/RoImmH0k5wlG3NQ9R0L/MNNYsRyABmcQQUnpVNRug/EBrg3PsjTKUYPTVnTjMye8="


before_install:
  - sudo apt-get -y install libprocps-dev
  - echo -n | openssl s_client -connect https://scan.coverity.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-

addons:
    apt:
       update: true
    coverity_scan:
       project:
         name: "rjaan/procps_ptree"
         description: "procps_ptree - shows inforamtion of executed process and task"
       notification_email: rjaan@yandex.ru
       build_command_prepend: "./configure"
       build_command: "make"
       branch_pattern: coverity_scan

#eof
